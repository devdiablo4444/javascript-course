<!DOCTYPE html>
<html>
<head>
    <title>rock paper scissors game</title>
</head>
<body>
    <p>Hey buddies , Welcome to the game , Now please kindly choose amoung [ ROCK , PAPER , SCISSERS ]
    </p>

    <button onclick="
    playGame('Rock');
    ">ROCK</button>

    <button onclick="
    playGame('Paper');
    ">PAPER</button>

    <button onclick="
    playGame('Scissors');
    ">SCISSORS</button>

    <button onclick="
    score.Wins = 0;
    score.Losses=0;
    score.Ties = 0;
    localStorage.removeItem('score'); // Learn use of JSON object and localStorage
    ">Reset Score</button>

  
    <script>

      let score = JSON.parse(localStorage.getItem('score')) ||    // Learn use of JSON object and localStorage
      {
      Wins: 0,
      Losses: 0,
      Ties: 0  
      };

      function playGame(playerMove){
        let computerMove = pickComputerMove();
        let result = ''

        if(playerMove == 'Scissors'){
          if(computerMove === 'Rock'){
            result = 'Your Lose';
          }
          else if(computerMove === 'Paper'){
            result = 'Your WIN';
          }
          else if(computerMove === 'Scissors'){
            result = 'TIE';
          }
        }
        else if(playerMove == 'Paper'){
          if(computerMove === 'Rock'){
            result = 'Your WIN';
          }
          else if(computerMove === 'Paper'){
            result = 'TIE';
          }
          else if(computerMove === 'Scissors'){
            result = 'Your Lose';
          }
        }
        else if(playerMove == 'Rock'){
          if(computerMove === 'Rock'){
            result = 'TIE';
          }
          else if(computerMove === 'Paper'){
            result = 'Your Lose';
          }
          else if(computerMove === 'Scissors'){
            result = 'Your WIN';
          }
        }

      if(result === 'Your WIN'){
        score.Wins += 1;
      } 
      else if(result === 'Your Lose'){
          score.Losses += 1;
        } 
      else if(result === 'TIE'){
          score.Ties += 1 ;
        }

      localStorage.setItem('score' , JSON.stringify(score));   // Learn use of JSON object and localStorage

    alert(`You pick>>> ${playerMove}.\nComputer pick>>> ${computerMove}.\n Result is>>> ${result}\n
Wins: ${score.Wins}, Losses: ${score.Losses}, Ties: ${score.Ties}
        `);
      }

      function pickComputerMove(){
        const randomNumber = Math.random();
        let computerMove = '' 

        if (randomNumber >= 0 && randomNumber  < 1/3 ){
          computerMove = 'Rock';
        }
        else if (randomNumber >= 1/3 && randomNumber  < 2/3 ){
          computerMove = 'Paper';
        }
        else if (randomNumber >= 2/3 && randomNumber  < 1 ){
          computerMove = 'Scissors';
        }
        
        return computerMove;
      }
    </script>
</body>
</html>
